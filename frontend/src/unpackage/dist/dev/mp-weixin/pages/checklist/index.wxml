<page-meta page-style="overflow:auto;min-height:100vh" class="data-v-743ed740"></page-meta><view class="checklist-page data-v-743ed740"><view class="left-section data-v-743ed740"><view class="recommend-title data-v-743ed740">推荐清单</view><scroll-view class="recommend-scroll data-v-743ed740" scroll-y="{{true}}"><block wx:for="{{recommendLists}}" wx:for-item="list" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['viewRecommendDetail',['$0'],[[['recommendLists','id',list.id]]]]]]]}}" class="recommend-card data-v-743ed740" bindtap="__e"><view class="recommend-type data-v-743ed740">{{list.type}}</view><view class="recommend-name data-v-743ed740">{{list.name}}</view></view></block></scroll-view><view class="left-bottom-actions data-v-743ed740"><view data-event-opts="{{[['tap',[['exportList',['$event']]]]]}}" class="left-action-btn data-v-743ed740" bindtap="__e"><text class="left-action-text data-v-743ed740">导出清单</text></view><view data-event-opts="{{[['tap',[['importFromLocal',['$event']]]]]}}" class="left-action-btn data-v-743ed740" bindtap="__e"><text class="left-action-text data-v-743ed740">一键导入</text></view></view></view><view class="right-section data-v-743ed740"><view class="my-list data-v-743ed740"><view class="list-header data-v-743ed740"><view class="header-top-row data-v-743ed740"><view data-event-opts="{{[['tap',[['openDateDialog',['$event']]]]]}}" class="switch-btn data-v-743ed740" bindtap="__e"><text class="switch-icon data-v-743ed740">📅</text></view></view><view class="list-info data-v-743ed740"><text class="list-name data-v-743ed740">{{selectedDate}}</text><text class="list-date data-v-743ed740">{{"共 "+$root.g0+" 个清单"}}</text></view></view><scroll-view class="list-content data-v-743ed740" scroll-y="{{true}}"><block wx:if="{{$root.g1===0}}"><view class="empty-list data-v-743ed740" style="padding-top:40rpx;"><text class="empty-text data-v-743ed740">该日期暂无清单</text><text class="empty-hint data-v-743ed740">可创建新清单或从左侧导入</text><view data-event-opts="{{[['tap',[['showCreateList',['$event']]]]]}}" class="create-list-btn data-v-743ed740" bindtap="__e"><text class="create-text data-v-743ed740">+ 创建新清单</text></view></view></block><block wx:for="{{$root.l0}}" wx:for-item="list" wx:for-index="__i1__" wx:key="id"><view style="margin-bottom:20rpx;" class="data-v-743ed740"><view class="list-header data-v-743ed740" style="margin-bottom:12rpx;"><view class="list-info data-v-743ed740"><text data-event-opts="{{[['tap',[['renameList',['$0'],[[['displayedLists','id',list.$orig.id]]]]]]]}}" class="list-name data-v-743ed740" bindtap="__e">{{list.$orig.name}}</text><block wx:if="{{list.$orig.date}}"><text class="list-date data-v-743ed740">{{list.$orig.date}}</text></block></view></view><view class="data-v-743ed740"><block wx:for="{{list.$orig.items}}" wx:for-item="item" wx:for-index="__i2__" wx:key="id"><view data-event-opts="{{[['longpress',[['deleteItem',['$0','$1'],[[['displayedLists','id',list.$orig.id],['items','id',item.id]],[['displayedLists','id',list.$orig.id]]]]]]]}}" class="list-item data-v-743ed740" bindlongpress="__e"><view data-event-opts="{{[['tap',[['toggleCheck',['$0','$1'],[[['displayedLists','id',list.$orig.id],['items','id',item.id]],[['displayedLists','id',list.$orig.id]]]]]]]}}" class="{{['checkbox','data-v-743ed740',(item.checked)?'checked':'']}}" catchtap="__e"><block wx:if="{{item.checked}}"><text class="check-mark data-v-743ed740">✓</text></block></view><view class="item-content data-v-743ed740"><text class="{{['item-text','data-v-743ed740',(item.checked)?'item-checked':'']}}">{{item.content}}</text><block wx:if="{{item.note}}"><text class="item-note data-v-743ed740">{{"备注："+item.note}}</text></block></view></view></block><block wx:if="{{list.g2===0}}"><view class="empty-tip data-v-743ed740"> 暂无清单项，点击下方添加 </view></block><block wx:if="{{list.g3>0}}"><view class="tip-text data-v-743ed740">长按清单项可删除</view></block><view style="margin:12rpx 0;" class="data-v-743ed740"><view data-event-opts="{{[['tap',[['showAddItem',['$0'],[[['displayedLists','id',list.$orig.id]]]]]]]}}" class="left-action-btn data-v-743ed740" bindtap="__e"><text class="left-action-text data-v-743ed740">+ 添加清单项</text></view></view></view></view></block></scroll-view></view></view><block wx:if="{{showAddDialog}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="dialog-mask data-v-743ed740" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="dialog-content data-v-743ed740" catchtap="__e"><view class="dialog-title data-v-743ed740">添加清单项</view><input class="dialog-input data-v-743ed740" placeholder="请输入内容" placeholder-style="color: #999" data-event-opts="{{[['input',[['__set_model',['','newItemContent','$event',[]]]]]]}}" value="{{newItemContent}}" bindinput="__e"/><input class="dialog-input data-v-743ed740" placeholder="备注（可选）" placeholder-style="color: #999" data-event-opts="{{[['input',[['__set_model',['','newItemNote','$event',[]]]]]]}}" value="{{newItemNote}}" bindinput="__e"/><view class="dialog-actions data-v-743ed740"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="dialog-btn cancel data-v-743ed740" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['addItem',['$event']]]]]}}" class="dialog-btn confirm data-v-743ed740" bindtap="__e">确定</view></view></view></view></block><block wx:if="{{showTemplateDialog}}"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="dialog-mask data-v-743ed740" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="template-content data-v-743ed740" catchtap="__e"><view class="dialog-title data-v-743ed740">选择清单模板</view><scroll-view class="template-list data-v-743ed740" scroll-y="{{true}}"><block wx:for="{{$root.l2}}" wx:for-item="template" wx:for-index="__i3__" wx:key="id"><view data-event-opts="{{[['tap',[['importTemplate',['$0'],[[['recommendLists','id',template.$orig.id]]]]]]]}}" class="template-item data-v-743ed740" bindtap="__e"><view class="template-type data-v-743ed740">{{template.$orig.type}}</view><view class="template-name data-v-743ed740">{{template.$orig.name}}</view><view class="template-preview data-v-743ed740"><block wx:for="{{template.l1}}" wx:for-item="item" wx:for-index="idx" wx:key="idx"><text class="preview-text data-v-743ed740">{{'• '+item+''}}</text></block><block wx:if="{{template.g4>2}}"><text class="preview-more data-v-743ed740">...</text></block></view></view></block></scroll-view><view class="dialog-actions data-v-743ed740"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="dialog-btn cancel data-v-743ed740" bindtap="__e">关闭</view></view></view></view></block><block wx:if="{{showCreateListDialog}}"><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="dialog-mask data-v-743ed740" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="dialog-content data-v-743ed740" catchtap="__e"><view class="dialog-title data-v-743ed740">创建新清单</view><input class="dialog-input data-v-743ed740" placeholder="请输入清单名称" placeholder-style="color: #999" maxlength="20" data-event-opts="{{[['input',[['__set_model',['','newListName','$event',[]]]]]]}}" value="{{newListName}}" bindinput="__e"/><view class="dialog-actions data-v-743ed740"><view data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" class="dialog-btn cancel data-v-743ed740" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['createNewList',['$event']]]]]}}" class="dialog-btn confirm data-v-743ed740" bindtap="__e">确定</view></view></view></view></block><block wx:if="{{showDateDialog}}"><view data-event-opts="{{[['tap',[['e6',['$event']]]]]}}" class="dialog-mask data-v-743ed740" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="dialog-content data-v-743ed740" catchtap="__e"><view class="dialog-title data-v-743ed740">选择清单日期</view><picker mode="date" value="{{dateTemp}}" start="2000-01-01" end="2100-12-31" data-event-opts="{{[['change',[['onDateChange',['$event']]]]]}}" bindchange="__e" class="data-v-743ed740"><view class="dialog-input data-v-743ed740" style="display:flex;align-items:center;justify-content:space-between;"><text class="data-v-743ed740">{{dateTemp||'请选择日期'}}</text><text style="color:#8c5c2a;font-size:24rpx;" class="data-v-743ed740">更改</text></view></picker><view class="dialog-actions data-v-743ed740"><view data-event-opts="{{[['tap',[['e7',['$event']]]]]}}" class="dialog-btn cancel data-v-743ed740" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['confirmDate',['$event']]]]]}}" class="dialog-btn confirm data-v-743ed740" bindtap="__e">确定</view></view></view></view></block><block wx:if="{{showRenameDialog}}"><view data-event-opts="{{[['tap',[['e8',['$event']]]]]}}" class="dialog-mask data-v-743ed740" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="dialog-content data-v-743ed740" catchtap="__e"><view class="dialog-title data-v-743ed740">重命名清单</view><input class="dialog-input data-v-743ed740" placeholder="请输入新的清单名称" placeholder-style="color: #999" maxlength="20" data-event-opts="{{[['input',[['__set_model',['','renameTemp','$event',[]]]]]]}}" value="{{renameTemp}}" bindinput="__e"/><view class="dialog-actions data-v-743ed740"><view data-event-opts="{{[['tap',[['e9',['$event']]]]]}}" class="dialog-btn cancel data-v-743ed740" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['confirmRename',['$event']]]]]}}" class="dialog-btn confirm data-v-743ed740" bindtap="__e">确定</view></view></view></view></block><block wx:if="{{showRecommendDetail&&selectedRecommend}}"><view data-event-opts="{{[['tap',[['closeRecommendDetail',['$event']]]]]}}" class="dialog-mask data-v-743ed740" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="recommend-detail-content data-v-743ed740" catchtap="__e"><view class="detail-header data-v-743ed740"><view class="detail-type data-v-743ed740">{{selectedRecommend.type}}</view><text data-event-opts="{{[['tap',[['closeRecommendDetail',['$event']]]]]}}" class="detail-close data-v-743ed740" bindtap="__e">×</text></view><view class="detail-title data-v-743ed740">{{selectedRecommend.name}}</view><scroll-view class="detail-list data-v-743ed740" scroll-y="{{true}}"><block wx:for="{{selectedRecommend.items}}" wx:for-item="item" wx:for-index="idx" wx:key="idx"><view class="detail-item data-v-743ed740"><view class="detail-index data-v-743ed740">{{idx+1}}</view><text class="detail-text data-v-743ed740">{{item}}</text></view></block></scroll-view><view class="detail-actions data-v-743ed740"><view data-event-opts="{{[['tap',[['closeRecommendDetail',['$event']]]]]}}" class="detail-btn cancel data-v-743ed740" bindtap="__e">关闭</view><view data-event-opts="{{[['tap',[['importFromDetail',['$event']]]]]}}" class="detail-btn confirm data-v-743ed740" bindtap="__e">导入到我的清单</view></view></view></view></block><view class="icons-fixed data-v-743ed740"><image class="chopsticks-fixed data-v-743ed740" src="/static/assets/retouch_2025111915301620.png" mode="widthFix"></image><view class="icons-top data-v-743ed740"><view data-event-opts="{{[['tap',[['goPage',['tong']]]]]}}" class="icon-block data-v-743ed740" bindtap="__e"><view class="top-circle-wrap data-v-743ed740"><image class="icon-img data-v-743ed740" src="/static/assets/retouch_2025112414375907.png" mode="widthFix"></image></view><text class="icon-label data-v-743ed740">陕面通</text></view></view><view class="icons-bottom data-v-743ed740"><block wx:for="{{bottomIcons}}" wx:for-item="icon" wx:for-index="__i4__" wx:key="id"><view data-event-opts="{{[['tap',[['goPage',['$0'],[[['bottomIcons','id',icon.id,'id']]]]]]]}}" class="icon-block data-v-743ed740" bindtap="__e"><image class="icon-img data-v-743ed740" src="{{icon.img}}" mode="widthFix"></image><text class="icon-label data-v-743ed740">{{icon.label}}</text></view></block></view></view></view>